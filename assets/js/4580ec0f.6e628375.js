"use strict";(self.webpackChunkgramref=self.webpackChunkgramref||[]).push([[3232],{7615:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(7294),d=a(7961);const r={_origin:"https://api.emailjs.com"},n=(e,t,a)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class l{constructor(e){this.status=e.status,this.text=e.responseText}}const i=(e,t,a={})=>new Promise(((s,d)=>{const n=new XMLHttpRequest;n.addEventListener("load",(({target:e})=>{const t=new l(e);200===t.status||"OK"===t.text?s(t):d(t)})),n.addEventListener("error",(({target:e})=>{d(new l(e))})),n.open("POST",r._origin+e,!0),Object.keys(a).forEach((e=>{n.setRequestHeader(e,a[e])})),n.send(t)})),m=(e,t,a,s)=>{const d=s||r._userID;n(d,e,t);const l={lib_version:"3.2.0",user_id:d,service_id:e,template_id:t,template_params:a};return i("/api/v1.0/email/send",JSON.stringify(l),{"Content-type":"application/json"})};const c=async()=>{var e=document.getElementById("email").value,t=document.getElementById("page").value,a=document.getElementById("feedback").value,s=[],d=document.getElementsByClassName("feedback-form-field");let r;for(r=0;r<d.length;r++)d[r].classList.remove("error");if(e||(s.push("No email address"),document.getElementById("email").classList.add("error")),function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(e)||(s.push("Invalid email address"),document.getElementById("email").classList.add("error")),t||(s.push("No page entered"),document.getElementById("page").classList.add("error")),a||(s.push("No feedback entered"),document.getElementById("feedback").classList.add("error")),s.length>0)console.log(s);else{document.getElementById("email").disabled=!0,document.getElementById("page").disabled=!0,document.getElementById("feedback").disabled=!0,document.getElementById("submit").disabled=!0,document.getElementById("sending").classList.remove("hidden");try{200===(await m("service_aw3uiuu","template_5jdr5ua",{page:t,email:e,feedback:a},"PrZOs_GR_peAe0eb6")).status&&(console.log("Successfully sent message."),document.getElementById("feedback-form").classList.add("hidden"),document.getElementById("feedback-sent").classList.remove("hidden"))}catch(n){console.error("Failed to send email. Error: ",n)}}};function o(){return s.createElement(d.Z,{title:"Give feedback",description:"Give feedback"},s.createElement("div",{style:{margin:"0 auto",padding:"2em 0",width:"500px"}},s.createElement("h1",null,"Give feedback"),s.createElement("p",null,"The Icelandic Grammar Reference is still a work in progress. Your feedback helps make it better!"),s.createElement("form",{className:"feedback-form",id:"feedback-form"},s.createElement("div",{className:"form-row"},s.createElement("label",{htmlFor:"page"},"Email address"),s.createElement("input",{id:"email",className:"feedback-form-field",autoFocus:!0})),s.createElement("div",{className:"form-row"},s.createElement("label",{htmlFor:"page"},"Page URL"),s.createElement("input",{id:"page",className:"feedback-form-field"})),s.createElement("div",{className:"form-row"},s.createElement("label",{htmlFor:"page"},"Feedback"),s.createElement("textarea",{id:"feedback",className:"feedback-form-field"})),s.createElement("div",{className:"form-row"},s.createElement("input",{type:"button",id:"submit",value:"Send feedback",className:"feedback-form-button",onClick:()=>c()}),s.createElement("span",{className:"form-status hidden",id:"sending"},"Sending..."))),s.createElement("div",{className:"hidden",id:"feedback-sent"},s.createElement("p",null,"\u2705 Thanks for sending your feedback!"))))}}}]);